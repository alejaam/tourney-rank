# TourneyRank Environment Variables
# Copy this file to .env and update values for your environment

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# HTTP server port (default: 8080)
HTTP_PORT=8080

# WebSocket server port (default: 8081)
WS_PORT=8081

# Environment: development, staging, production
ENVIRONMENT=development

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Graceful shutdown timeout (default: 15s)
SHUTDOWN_TIMEOUT=15s

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database?sslmode=disable
DATABASE_URL=postgresql://tourneyrank:tourneyrank@localhost:5432/tourneyrank?sslmode=disable

# For Docker Compose, use the service name as host:
# DATABASE_URL=postgresql://tourneyrank:tourneyrank@postgres:5432/tourneyrank?sslmode=disable

# PostgreSQL credentials (used by docker-compose)
POSTGRES_USER=tourneyrank
POSTGRES_PASSWORD=tourneyrank
POSTGRES_DB=tourneyrank

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis connection URL
REDIS_URL=redis://localhost:6379

# For Docker Compose:
# REDIS_URL=redis://redis:6379

# =============================================================================
# SECURITY
# =============================================================================

# JWT secret for token signing (change in production!)
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Session timeout
SESSION_TIMEOUT=24h

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable Prometheus metrics endpoint (/metrics)
ENABLE_METRICS=false

# Enable distributed tracing
ENABLE_TRACING=false

# Enable betting system
ENABLE_BETTING=true

# Enable public registrations
ENABLE_REGISTRATIONS=true

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Discord webhook for notifications (via n8n or direct)
DISCORD_WEBHOOK_URL=

# n8n webhook URL for automation
N8N_WEBHOOK_URL=

# OpenAI API key for match analysis (optional)
# OPENAI_API_KEY=sk-...

# =============================================================================
# PRODUCTION NOTES
# =============================================================================
# 
# For production deployment on Raspberry Pi with Dokploy:
#
# 1. Set ENVIRONMENT=production
# 2. Use strong passwords for POSTGRES_PASSWORD and JWT_SECRET
# 3. Set LOG_LEVEL=info (not debug)
# 4. Enable ENABLE_METRICS=true if you want monitoring
# 5. Don't expose PostgreSQL/Redis ports externally
#
# Cloudflare Tunnel handles SSL, so the app can run on HTTP internally.
